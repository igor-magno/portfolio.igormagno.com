@page "/"
@using System.Runtime.InteropServices.JavaScript
@using portfolio.igormagno.com.Data
@using portfolio.igormagno.com.Data.Enums

<PageTitle>Portfolio - @title</PageTitle>

<MudContainer MaxWidth="MaxWidth.False" Class="py-20">
    <MudGrid Justify="Justify.Center">
        <MudItem xs="12" md="8">
            <MudStack Spacing="10">

                @* SOBRE *@
                <MudGrid Spacing="10">
                    <MudItem xs="12" md="5">
                        <MudCard Elevation="0">
                            <MudCardContent>
                                <MudStack Spacing="10" AlignItems="AlignItems.Center">
                                    <MudText Typo="Typo.h2"
                                             Style="font-family: Exile, system-ui; font-weight: 400"
                                             Color="Color.Primary">IM
                                    </MudText>
                                    <MudText Typo="Typo.h2" Style="font-weight: 400">@title</MudText>
                                    <MudText Typo="Typo.body1" Align="Align.Center">
                                        Transformo problemas complexos em soluções digitais robustas,
                                        com foco em performance, escalabilidade e impacto real no negócio.
                                    </MudText>
                                </MudStack>
                            </MudCardContent>
                            <MudCardActions>
                                <MudStack Row="true" Spacing="10" Style="width: 100%"
                                          Justify="Justify.Center"
                                          AlignItems="AlignItems.Center">
                                    <MudIconButton Icon="@Icons.Custom.Brands.GitHub"
                                                   Href="@gitHubLink"
                                                   Target="_blank"
                                                   Color="Color.Inherit"/>
                                    <MudIconButton Icon="@Icons.Custom.Brands.LinkedIn"
                                                   Href="@linkedinLink"
                                                   Target="_blank"
                                                   Color="Color.Inherit"/>
                                    <MudIconButton Icon="@Icons.Material.Filled.Email"
                                                   Href="@emailLink"
                                                   Target="_blank"
                                                   Color="Color.Inherit"/>
                                </MudStack>
                            </MudCardActions>
                        </MudCard>
                    </MudItem>
                    <MudItem xs="12" md="7">
                        <MudStack Spacing="10">
                            <MudText Typo="Typo.h2" Color="Color.Primary" Style="font-weight: 400">
                                Engenheiro de Software
                            </MudText>
                            <MudText Typo="Typo.body1">
                                Engenheiro de Software com experiência no desenvolvimento de soluções web, mobile e
                                desktop,
                                atuando de ponta a ponta da concepção técnica à entrega e sustentação em produção com
                                foco
                                em desempenho, escalabilidade e segurança.
                            </MudText>
                            <MudStack Spacing="6" Row="true" Justify="Justify.Center" AlignItems="AlignItems.Center">
                                <MudStack>
                                    <MudText Typo="Typo.h4" Align="Align.Center" Color="Color.Primary"
                                             Style="font-weight: 800">+@ProjectsDelivered
                                    </MudText>
                                    <MudText Typo="Typo.body2" Align="Align.Center">Projetos entregues</MudText>
                                </MudStack>
                                <MudStack>
                                    <MudText Typo="Typo.h4" Align="Align.Center" Color="Color.Primary"
                                             Style="font-weight: 800">+@YearsOfExperience
                                    </MudText>
                                    <MudText Typo="Typo.body2" Align="Align.Center">
                                        Anos construindo<br/> soluções digitais
                                    </MudText>
                                </MudStack>
                                <MudStack>
                                    <MudText Typo="Typo.h4" Align="Align.Center" Color="Color.Primary"
                                             Style="font-weight: 800">+@CustomersServed
                                    </MudText>
                                    <MudText Typo="Typo.body2" Align="Align.Center">Clientes atendidos</MudText>
                                </MudStack>
                            </MudStack>
                        </MudStack>
                    </MudItem>
                </MudGrid>

                <MudDivider/>

                @* SERVIÇOS *@
                <MudStack>
                    <MudText Typo="Typo.subtitle1" GutterBottom Align="Align.Center">
                        <MudText Typo="Typo.h2" Style="font-weight: 400">SERVIÇOS</MudText>
                    </MudText>
                    <MudGrid Spacing="4">
                        @foreach (var service in Services.List)
                        {
                            <MudItem xs="12" sm="6">
                                <MudCard Elevation="0">
                                    <MudCardContent>
                                        <MudText Typo="Typo.h6">
                                            @service.Name
                                        </MudText>
                                        <MudText Typo="Typo.body2">
                                            @service.Description
                                        </MudText>
                                    </MudCardContent>
                                    <MudCardActions Class="pa-6">
                                        @* <MudLink Href="@project.Link" *@
                                        @*          Target="_blank" *@
                                        @*          Color="Color.Primary"> *@
                                        @*     Ver case técnico → *@
                                        @* </MudLink> *@
                                    </MudCardActions>
                                </MudCard>
                            </MudItem>
                        }
                    </MudGrid>
                </MudStack>

                <MudDivider/>

                @* PROJETOS *@
                <MudStack>
                    <MudText Typo="Typo.subtitle1" GutterBottom Align="Align.Center">
                        Projetos que desenvolvi ou atuei parcialmente
                        <MudText Typo="Typo.h2" Style="font-weight: 400">Projetos</MudText>
                    </MudText>
                    <MudGrid Spacing="4">
                        @foreach (var project in Projects.List)
                        {
                            <MudItem xs="12" sm="6">
                                <MudCard Elevation="0">
                                    <MudCardContent>
                                        <MudStack Spacing="4">
                                            <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="4">
                                                @if (project.LogoLink != null)
                                                {
                                                    <MudAvatar Variant="Variant.Outlined" Size="Size.Large">
                                                        <MudImage Src="@project.LogoLink"
                                                                  Alt="@project.Name"></MudImage>
                                                    </MudAvatar>
                                                }
                                                <MudText Typo="Typo.h6">
                                                    @project.Name
                                                </MudText>
                                            </MudStack>
                                            <MudText Typo="Typo.body2">
                                                @project.Description
                                            </MudText>
                                        </MudStack>
                                    </MudCardContent>
                                    <MudCardActions Class="pa-6">
                                        @if (project.IsCase)
                                        {
                                            <MudLink Href="@project.Link"
                                                     Target="_blank"
                                                     Color="Color.Primary">
                                                Ver case técnico →
                                            </MudLink>
                                        }
                                        @if (!project.IsCase && project.Link != null)
                                        {
                                            <MudLink Href="@project.Link"
                                                     Target="_blank"
                                                     Color="Color.Primary">
                                                Ver →
                                            </MudLink>
                                        }
                                        @if (!project.IsCase && project.IsOpenCode)
                                        {
                                            <MudLink Href="@project.Link"
                                                     Target="_blank"
                                                     Color="Color.Primary">
                                                Ver código →
                                            </MudLink>
                                        }
                                    </MudCardActions>
                                </MudCard>
                            </MudItem>
                        }
                    </MudGrid>
                </MudStack>

                <MudDivider/>

                @* EXPERIÊNCIA *@
                <MudStack>
                    <MudText Typo="Typo.subtitle1" GutterBottom Align="Align.Center">
                        <MudText Typo="Typo.h2" Style="font-weight: 400">Experiência</MudText>
                    </MudText>
                    <MudPaper Elevation="0">
                        <MudTabs Elevation="0">
                            <MudTabPanel Text="Resumo">
                                <MudTimeline TimelineOrientation="TimelineOrientation.Vertical"
                                             TimelinePosition="TimelinePosition.Start"
                                             TimelineAlign="TimelineAlign.Start">
                                    @foreach (var experience in Experiences.ResumeList)
                                    {
                                        <MudTimelineItem
                                            Color="@(experience.IsActive ? Color.Primary : Color.Default)"
                                            Variant="Variant.Outlined">
                                            <MudStack Spacing="2">
                                                <MudText Typo="Typo.button">@experience.title</MudText>
                                                <MudText Typo="Typo.body2"
                                                         Class="mud-text-secondary">@experience.tag</MudText>
                                                <MudText>@experience.description</MudText>
                                            </MudStack>
                                        </MudTimelineItem>
                                    }
                                </MudTimeline>
                            </MudTabPanel>
                            <MudTabPanel Text="Detalhe">
                                <MudTimeline TimelineOrientation="TimelineOrientation.Vertical"
                                             TimelinePosition="TimelinePosition.Start"
                                             TimelineAlign="TimelineAlign.Start">
                                    @foreach (var experience in Experiences.List)
                                    {
                                        <MudTimelineItem
                                            Color="@(experience.IsActive ? Color.Primary : Color.Default)"
                                            Variant="Variant.Outlined">
                                            <MudStack Spacing="2">
                                                <MudText Typo="Typo.button">@experience.title</MudText>
                                                <MudText Typo="Typo.body2"
                                                         Class="mud-text-secondary">@experience.tag</MudText>
                                                <MudText>@experience.description</MudText>
                                            </MudStack>
                                        </MudTimelineItem>
                                    }
                                </MudTimeline>
                            </MudTabPanel>
                        </MudTabs>
                    </MudPaper>
                </MudStack>

                <MudDivider/>

                @* TECNOLOGIAS e HABILIDADES *@
                <MudStack>
                    <MudText Typo="Typo.subtitle1" GutterBottom Align="Align.Center">
                        <MudText Typo="Typo.h2" Style="font-weight: 400">Tecnologias & Habilidades</MudText>
                    </MudText>
                    <MudPaper Elevation="0" Class="pa-6">
                        <MudStack Spacing="4">
                            <MudStack>
                                <MudText Typo="Typo.subtitle1">Linguagens</MudText>
                                <MudStack Row="true" Wrap="Wrap.Wrap">
                                    @foreach (var skill in LanguageSkills)
                                    {
                                        <MudChip T="string" Variant="Variant.Text"
                                                 Color="Color.Primary">@skill.Name</MudChip>
                                    }
                                </MudStack>
                            </MudStack>
                            <MudStack>
                                <MudText Typo="Typo.subtitle1">Frameworks e Bibliotecas</MudText>
                                <MudStack Row="true" Wrap="Wrap.Wrap">
                                    @foreach (var skill in FrameworkAndLibSkills)
                                    {
                                        <MudChip T="string" Variant="Variant.Text"
                                                 Color="Color.Primary">@skill.Name</MudChip>
                                    }
                                </MudStack>
                            </MudStack>
                            <MudStack>
                                <MudText Typo="Typo.subtitle1">Ferramentas</MudText>
                                <MudStack Row="true" Wrap="Wrap.Wrap">
                                    @foreach (var skill in ToolSkills)
                                    {
                                        <MudChip T="string" Variant="Variant.Text"
                                                 Color="Color.Primary">@skill.Name</MudChip>
                                    }
                                </MudStack>
                            </MudStack>
                            <MudStack>
                                <MudText Typo="Typo.subtitle1">Estudos</MudText>
                                <MudStack Row="true" Wrap="Wrap.Wrap">
                                    @foreach (var skill in StudySkills)
                                    {
                                        <MudChip T="string" Variant="Variant.Text"
                                                 Color="Color.Primary">@skill.Name</MudChip>
                                    }
                                </MudStack>
                            </MudStack>
                        </MudStack>
                    </MudPaper>
                </MudStack>

                <MudDivider/>

                @* CHAMADA PARA AÇÃO *@
                <MudPaper Class="pa-8" Elevation="0">
                    <MudStack Spacing="4" AlignItems="AlignItems.Center">
                        <MudText Typo="Typo.h5" Align="Align.Center">
                            Vamos construir seu próximo projeto?
                        </MudText>

                        <MudText Typo="Typo.body2" Align="Align.Center">
                            Se você precisa de um sistema escalável, aplicativo ou evolução técnica do seu
                            produto,
                            estou disponível para conversar.
                        </MudText>

                        <MudButton Variant="Variant.Filled"
                                   Color="Color.Primary"
                                   Size="Size.Large"
                                   Href="@emailLink"
                                   Target="_blank">
                            Entrar em contato
                        </MudButton>
                    </MudStack>
                </MudPaper>
            </MudStack>
        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    private string title = "Igor Magno";

    private string gitHubLink = "https://github.com/igor-magno";
    private string linkedinLink = "https://www.linkedin.com/in/igor-magno/";
    private string emailLink = "https://mail.google.com/mail/?view=cm&fs=1&to=igormagno.dev@gmail.com";

    private IEnumerable<Skill> LanguageSkills => Skills.List.Where(s => s.Type == SkillType.Language);
    private IEnumerable<Skill> FrameworkAndLibSkills => Skills.List.Where(s => s.Type == SkillType.Framework || s.Type == SkillType.Lib);
    private IEnumerable<Skill> ToolSkills => Skills.List.Where(s => s.Type == SkillType.Tool);
    private IEnumerable<Skill> StudySkills => Skills.List.Where(s => s.Type == SkillType.Study);

    private int YearsOfExperience = DateTime.Now.Year - 2018 - 1;
    private int ProjectsDelivered = Projects.List.Length;
    private int CustomersServed = Projects.List.Where(s => s.Client != null).GroupBy(s => s.Client).Count() - 1;
}
